<div ng-repeat="coupon in vm.currentOrganization.coupons" class="col-lg-3 col-md-4 col-sm-6 col-xs-12">      
 <form class="jumbotron well" editable-form name="editableForm" onbeforesave="vm.saveCoupon(coupon)">

                      <div> 
                          <span class="title">Description: </span>
                         <span  e-required editable-text="coupon.description">{{ coupon.description || 'empty'}}</span>
                      </div>
                       <div> 
                          <span class="title">Percentage: </span>
                         <span   e-required editable-text="coupon.percentage">{{ coupon.percentage || 'empty'}}</span>
                      </div>
                      <img ng-src="{{vm.appConfig.IMAGE_URL + coupon.image.name}}" alt="">
                       <h2>Coupon Codes</h2>
                        <div ng-repeat="code in coupon.couponCodes track by $index">
                                <div> 
                                    <span class="title">Coupon Code: </span>
                                    <span   e-required editable-text="code.code">{{ code.code}}</span>
                                </div>
                                <div> 
                                    <span class="title">Is Active: </span>
                                    <span   e-required  editable-checkbox="code.isActive">
                                        {{ code.isActive && "Yes" || "No" }}</span>
                                </div>
                        </div>


<div class="buttons margin-0-20">
    <!-- button to show form -->
    <button type="button" class="btn btn-default" ng-click="editableForm.$show()" ng-show="!editableForm.$visible">
        Edit
      </button>
      <div flow-init="vm.flowConfig" flow-single-file="true" flow-files-submitted="$flow.upload()" flow-files-added="vm.attachCouponImage($files, coupon)">
        <button flow-btn type="button" class="btn btn-default"  ng-show="!editableForm.$visible">
            Upload Image
        </button>
      </div>
      <button type="button" class="btn btn-default" ng-click="vm.generateCouponCode(coupon)" ng-show="!editableForm.$visible">
        Generate Code
      </button>
      <button type="button" class="btn btn-default" ng-click="vm.deattachCoupon(coupon)" ng-show="!editableForm.$visible">
        Delete
      </button>
    <!-- buttons to submit / cancel form -->
    <span ng-show="editableForm.$visible">
        <button type="submit" class="btn btn-primary" ng-disabled="editableForm.$waiting">
          Save
        </button>
        <button type="button" class="btn btn-default" ng-disabled="editableForm.$waiting" ng-click="editableForm.$cancel()">
          Cancel
        </button>
      </span>
</div>
</form>
</div>
